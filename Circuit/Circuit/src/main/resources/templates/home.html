<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/head.html :: head(titulo = 'Home')}">
</head>
<body>
<div class="container">
    <div th:replace="~{fragments/menu :: sidebar('home')}"></div>
    <main class="main-content">
        <header th:replace="~{fragments/header.html :: header}" class="top-bar"></header>

        <div class="welcome-section">
            <h1 class="welcome-title">Bem-vindo de volta, <span sec:authentication="name"></span></h1>
        </div>

        <div class="dashboard-grid">
            <div class="status-card">
                <div class="status-header">
                    <div>
                        <h3>Fluxo de Ordens de Serviço</h3>
                        <div class="status-indicator">
                            <span class="status-dot"></span>
                            <span class="status-text">Sistema operando normalmente</span>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <div class="empty-chart">
                        <svg width="120" height="120" viewBox="0 0 120 120" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <circle cx="60" cy="60" r="50" stroke="#e2e8f0" stroke-width="8" stroke-dasharray="8 8"/>
                            <path d="M60 20C70 20 80 25 85 35C90 45 90 55 85 65C80 75 70 80 60 80" stroke="#ea580c"
                                  stroke-width="8" stroke-linecap="round"/>
                            <path d="M60 40C65 40 70 42 73 47C76 52 76 57 73 62C70 67 65 69 60 69" stroke="#3b82f6"
                                  stroke-width="8" stroke-linecap="round"/>
                            <circle cx="60" cy="60" r="8" fill="#10b981"/>
                        </svg>
                        <p class="empty-chart-text">Gráfico de fluxo em desenvolvimento</p>
                    </div>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon metric-icon-green">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z"/>
                        <path d="M14 2V8H20M16 13H8M16 17H8"/>
                    </svg>
                </div>
                <div class="metric-content">
                    <h2 class="metric-number">18</h2>
                    <p class="metric-label">O.S. Abertas</p>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon metric-icon-yellow">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"/>
                        <path d="M12 6V12L16 14"/>
                    </svg>
                </div>
                <div class="metric-content">
                    <h2 class="metric-number">7</h2>
                    <p class="metric-label">Aguardando Peças</p>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon metric-icon-warning">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18..."></path>
                    </svg>
                </div>
                <div class="metric-content">
                    <h2 class="metric-number">3</h2>
                    <p class="metric-label">Itens em Falta</p>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon metric-icon-blue">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 16V8..."></path>
                    </svg>
                </div>
                <div class="metric-content">
                    <h2 class="metric-number">234</h2>
                    <p class="metric-label">Itens no Estoque</p>
                </div>
            </div>
        </div>

        <div class="bottom-grid">
            <div class="activity-card">
                <h3 class="card-title">Atividades Recentes</h3>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-indicator activity-green"></div>
                        <div class="activity-content">
                            <p class="activity-text">Nova O.S. #2401 criada - Samsung Galaxy A54</p>
                            <span class="activity-time">2 horas atrás</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="quick-actions-card">
                <h3 class="card-title">Ações Rápidas</h3>
                <div class="actions-list">
                    <button class="action-button action-primary">Nova Ordem de Serviço</button>
                    <button class="action-button action-secondary">Registrar Entrada</button>
                </div>
            </div>
        </div>
    </main>
</div>
<script th:src="@{/js/home.js}"></script>
</body>
</html>